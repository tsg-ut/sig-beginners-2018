# TSG2018年Sセメスター初心者分科会\#3

### 前回忘れていた事項
##### 配列の操作
```python
>>> a = [1, 2, 3, 4, 5]
>>> a.append(6)
>>> a
[1, 2, 3, 4, 5, 6]
>>> a.reverse()
>>> a
[6, 5, 4, 3, 2, 1]
>>> a.sort()
>>> a
[1, 2, 3, 4, 5, 6]
>>> [0] + a + [3]
[0, 1, 2, 3, 4, 5, 6, 3]
>>> a.insert(3,10)
>>> a
[1, 2, 3, 10, 4, 5, 6]
```
他にもいっぱいあって自分でも把握しきれていません。困ったらドキュメントを見るか検索しましょう。Google先生は偉大です。

##### continue、breakとfor-else、while-else
continueから。0~9を出力するのですが、5だけ飛ばしたいって時に。
```python
>>> for i in range(10):
...     if i==5:
...             continue
...     print(i)
...
0
1
2
3
4
6
7
8
9
```
continueがあると、forやwhileの中の以降の内容を飛ばします。<br>

次はbreak。continueとの違いに注目。
```python
>>> for i in range(10):
...     if i==5:
...             break
...     print(i)
...
0
1
2
3
4
```
そこでループを打ち切ってしまうのがbreakです。多重ループは抜けられないので、例えば、以下のコードは一番奥のループしか抜けられません。
```python
>>> for i in range(3):
...     for j in range(10**5):
...             if j==2:
...                     break
...             print(i,j)
...
0 0
0 1
1 0
1 1
2 0
2 1
```

for-else、while-elseはフラッグ立ててしまえばいいだけの話なので滅多に使いませんが、割と便利です。
```python
>>> for i in range(5):
...     print(i)
... else:
...     print("finished")
...
0
1
2
3
4
finished
>>> for i in range(5):
...     if i==3:
...             break
...     print(i)
... else:
...     print("finished")
...
0
1
2
>>> for i in range(5):
...     if i==3:
...             continue
...     print(i)
... else:
...     print("finished")
...
0
1
2
4
finished
```
このように、breakした時のみ実行されません。whileにも同様に使うことが出来ます。

***

### 前回の復習(+α)
前回は「配列・文字列」をメインに、最後の方にfor文if文もやりました。

ここまで出来ると、ある程度のことが出来るようになってきます。例えば競プロとか競プロとか競プロとか。<br>
という訳で競プロの問題を1問（簡単なもの）解いてみましょう。

#### ABC086A - Product
シカのAtCoDeerくんは二つの正整数 a,b を見つけました。 a と b の積が偶数か奇数か判定してください。<br>

__制約__
* 1 ≤ a,b ≤ 10000
* a,bは整数<br>

__入力例1__
```
3 4
```
__出力例1__
```
Even
```
* 3×4=12 は偶数なので`Even`を出力してください。

__入力例2__
```
1 21
```
__出力例2__
```
Odd
```
* 1×21=21 は奇数なので`Odd`を出力してください。<br>


で、解く前に入力の方法がまだよく分かっていません。こんな感じです。
```python
string = input() #入力を1行文字列でもらう
string = string.split() #空白で区切られているので、分割します。
a = int(string[0])
b = int(string[1])
```

__splitについて__
```python
>>> s="hoge hoge fuga fuga"
>>> s.split("g") #gの位置で区切った配列にする
['ho', 'e ho', 'e fu', 'a fu', 'a']
>>> s.split() #スペースで区切った配列にする
['hoge', 'hoge', 'fuga', 'fuga']
```

#### ABC081A - Placing Marbles
すぬけ君は 1,2,3 の番号がついた 3 つのマスからなるマス目を持っています。 各マスには 0 か 1 が書かれており、マス i には si が書かれています。

すぬけ君は 1 が書かれたマスにビー玉を置きます。 ビー玉が置かれるマスがいくつあるか求めてください。<br>

__制約__
* s1,s2,s3 は 1 あるいは 0

__入力例1__
```
101
```
__出力例1__
```
2
```
* マス 1,3 にビー玉が置かれます

__入力例2__<br>
```
000
```
__出力例2__<br>
```
0
```
* マス 1,3 にビー玉が置かれます

#### ABC081B - Shift only
黒板に N 個の正の整数 A1,...,AN が書かれています．

すぬけ君は，黒板に書かれている整数がすべて偶数であるとき，次の操作を行うことができます．

* 黒板に書かれている整数すべてを，2 で割ったものに置き換える．

すぬけ君は最大で何回操作を行うことができるかを求めてください．<br>

__制約__
* 1 ≤ N ≤ 200
* 1 ≤ Ai ≤ 109

__入力例1__
```
3
8 12 40
```
__出力例1__
`
2
`
最初，黒板には [8,12,40] が書かれています． このとき，書かれている整数はすべて偶数なので，操作を行うことができます．

1 回操作を行った後，黒板には [4,6,20] が書かれています． 再び，書かれている整数はすべて偶数なので，操作を行うことができます．

2 回操作を行った後，黒板には [2,3,10] が書かれています． この時，奇数 3 が書かれているため，これ以上操作を行うことはできません．

よって，すぬけ君は最大で 2 回操作を行うことができます．

__入力例2__
```
4
5 6 8 10
```
__出力例2__
```
0
```
最初から奇数 5 が書かれているため，すぬけ君は一回も操作を行うことができません．

__入力例3__
```
6
382253568 723152896 37802240 379425024 404894720 471526144
```
__出力例3__
```
8
```

__入力受け取りっぽいもの__
```python
n = int(input())        #1行入力を受け取ってそれを数字に変える
string = input().split() #1行入力を受け取ってそれを空白区切りにする
a = []                  #stringを数字にするやつ
for s in string:        #stringの各要素を
    a.append(int(s))    #intにしてaに追加していく

# ここから解答編
ret = 0 # 答え
while True: #取り敢えず無限ループさせる
    flag = False
    for i in range(n):
        if a[i]%2 == 0: # a[i]が2で割れるなら割る
            a[i]//=2
        else: # 割れないならflagを切り替える
            flag=True
            break
    if flag: #flagが変わっている==2で割り切れない数があるなら終わり
        break
    ret+=1
print(ret)
```

さて、出来たでしょうか？最後の問題はちょっと大変だったかもしれません。でも、不可能では無かったと思います。こんな感じの問題も競プロにはあるので、是非練習も兼ねて参加してみるといいと思います。

オマケ: https://abc097.contest.atcoder.jp/tasks/abc097_a

***

さて、前置きがとても長かったですが、本編に入ります。今回は関数+etc(時間があれば)。

### 関数
取り敢えずコードを書きます。
```python
def f(x):
    return x*x

print(f(3)) # 9が出力される

def g(x):
    x+=1
    return 5*x

print(g(8)) # 45が出力される
```
これで何となく分かってくれると大分助かるのですが…<br>
「同じ処理を色んなところで使いたいときに、その処理を１回書くだけでいい」という点が強力です。f(3)とすると、x=3を代入してから関数内部の実行を行います。returnで結果を返すんですね。

用語ですが、`f(x)`とするときのxを「引数」、`return x`のxを「返り値」といいます。

実は、結果は必ずしも返す必要はありません。
```python
def sayHello(name):
    print("breaking news")
    print(name + " says \"Hello\"")
    # そういえば、print("{0} says \"Hello\"".format(name))とかprint("%s says \"Hello\""%name)という書き方も出来るけど時間があったら解説します

sayHello("tourist") # tourist says "Hello"と出力される
```
こんな感じで。こう考えると、今まで使ってきたprintすらも何も値を返さない関数です。実際に、
```python
>>> print(sayHello("toruist"))
breaking news
toruist says "Hello"
None
```
と、「何もない」という型の「None」というものが返ってきます。


ところで、今何気なく`\"`を使いましたが、これの説明をしていませんでした。ちょっと文字列に戻ります。

***

### 文字列の使い方-その2-

#### エスケープについて
文字列は外側を`"`もしくは`'`で括ることになっています。自分には違いが分かりません。ところで、`"`で括った文字列の中で`"`が使いたくなったらどうするんでしょうか？
```python
>>> print("This is \"\"\"Test\"\"\"")
This is """Test"""
```

他にもこんな感じのものがいっぱいあります。

| 中身 | 出力結果 |
|:------------:|:------------:|
| \\\\ | 「\」そのもの |
| \\' | ' |
| \\" | " |
| \\a | ベル |
| \\b | バックスペース |
| \\r | キャリッジリターン |
| \\n | 改行 |
| \\t | タブ |
| \\v | 水平タブ |
| \\0 | NULL |
何に使うねん。

***

#### 再帰関数
```python
def rec(n):
    if n>0:
        print("Hello!!!")
        rec(n-1)

rec(5) # Helloが5回出てくる
```
関数の中で全く同じ関数を呼び出すことも可能です。

__問題__ 100までのfizzbuzzを書いてください。<br>
fizzbuzzとは、1から数字を大きくしながらループを回して、

* その数が3の倍数なら`"fizz"`を、
* その数が5の倍数なら`"buzz"`を、
* その数が3の倍数でも5の倍数でもあるなら`"fizzbuzz"`を、
* どれにも該当しないならその数そのものを

出力するものです。今回は

1. for文
2. while文
3. 再帰関数

を使って実装してください。

***

完全にスコープのお話を忘れていました。ついでに関数の続きも少し。
#### スコープ
```python
>>> a=3
>>> if a==3:
...     b=4
...
>>> a
3
>>> b
4
>>> def f(x=3):
...     print(x)
...     a=x
...     c=10
...
>>> f()
3
>>> f(8)
8
>>> a
3
>>> b
4
>>> c
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
NameError: name 'c' is not defined
```
2つのコンテンツを同時にやっているのでごめんなさい…

まずは`def f(x=3)`から。関数の引数には予め値を代入することが出来て、これは`f()`みたいに何も指定せずに関数を呼んだときに代わりにxに代入されます。

次。スコープです。forやifでは問題無いのですが、関数では、そこの中で呼んだ変数は外側で使うことが出来ません。（そのためcがエラーになっています）

***

ここからextraな内容に入っていきます。

#### リスト内報表記・三項演算子
```python
>>> 1 if True else 0
1
>>> 1 if True else 2
1
>>> 1 if False else 2
2
```
三項演算子というif文を省略した構文が存在します。最初にifの中が評価され、
```python
>>> 1 if False else "1"
'1'
```

```python
>>> [3*x for x in range(1,10)] #リストの中でループを回してる
[3, 6, 9, 12, 15, 18, 21, 24, 27]
>>> [3*x for x in range(1,50) if x%5==0] #ifも入れられる
[15, 30, 45, 60, 75, 90, 105, 120, 135]
```
という感じの無茶苦茶な構文があります。実は毎回配列にappendするよりも早いです。

```python
>>> [3*x if x%5==0 for x in range(1,50)] #順番に注意
  File "<stdin>", line 1
    [3*x if x%5==0 for x in range(1,50)]
                     ^
SyntaxError: invalid syntax
```
というのも、（忘れていた気がしますが）後者のifは三項演算子です。（忘れていた気がする
```python